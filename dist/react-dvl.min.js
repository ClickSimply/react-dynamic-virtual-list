!function(t,e){if("object"==typeof exports&&"object"==typeof module)module.exports=e(require("react"));else if("function"==typeof define&&define.amd)define(["react"],e);else{var i="object"==typeof exports?e(require("react")):e(t.react);for(var s in i)("object"==typeof exports?exports:t)[s]=i[s]}}(window,function(t){return function(t){var e={};function i(s){if(e[s])return e[s].exports;var o=e[s]={i:s,l:!1,exports:{}};return t[s].call(o.exports,o,o.exports,i),o.l=!0,o.exports}return i.m=t,i.c=e,i.d=function(t,e,s){i.o(t,e)||Object.defineProperty(t,e,{configurable:!1,enumerable:!0,get:s})},i.r=function(t){Object.defineProperty(t,"__esModule",{value:!0})},i.n=function(t){var e=t&&t.t?function(){return t.default}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="",i(i.s=1)}([function(e,i){e.exports=t},function(t,e,i){"use strict";var s,o=this&&this.h||(s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}s(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),n=this&&this.e||Object.assign||function(t){for(var e,i=1,s=arguments.length;i<s;i++)for(var o in e=arguments[i])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t};Object.defineProperty(e,"__esModule",{value:!0});var r=i(0),h={opacity:0,height:0},p=function(t){function e(e){var i=t.call(this,e)||this;return i.u=5,i.f=[],i.a=[],i.v=0,i._=0,i.w=i.w.bind(i),i.g=i.g.bind(i),i.b=i.b.bind(i),i.y=i.y.bind(i),i.j=i.j.bind(i),i.M=[],i.O=0,i.x="undefined"!=typeof window,i.state={T:!1,H:0,q:0,z:0,I:[],N:0,R:[],S:null},i}return o(e,t),e.prototype.componentWillMount=function(){this.u=void 0!==this.props.buffer?this.props.buffer:5,this.k=this.props.windowContainer,this.props.doUpdate&&this.props.doUpdate(this.b),this.x&&window.addEventListener("resize",this.g)},e.prototype.componentWillUnmount=function(){this.x&&window.removeEventListener("resize",this.g),this.A&&this.A.removeEventListener("scroll",this.j)},e.prototype.g=function(){var t=this;this.B&&clearTimeout(this.B),this.B=setTimeout(function(){t.w()},250)},e.prototype.y=function(){var t=this;if(this._=0,this.f=[],this.a=[],this.x&&!this.C&&this.A)if(this.A!==window)this.C=this.A.scrollTop,this.A.scrollTop=0;else{var e=document.documentElement;this.C=(window.pageYOffset||e.scrollTop)-(e.clientTop||0),this.A.scrollTo(0,0)}setTimeout(function(){t.setState({T:!0},function(){var e=t.props.calculateHeight;void 0!==e&&(t.props.items.forEach(function(i,s){t.f[s]="number"==typeof e?e:e(t.state.S,i,s)}),t.D(!0))})},0)},e.prototype.w=function(){this.props.onResizeStart?this.props.onResizeStart(this.y):this.y()},e.prototype.D=function(t){var e=this,i=0,s=Math.floor(this.state.S.clientWidth/(this.props.gridItemWidth||100)),o=[],n=0;this.M=[];var r=this.state.H,h="number"==typeof this.props.calculateHeight;h&&(i=this.props.calculateHeight);var p=this.f.reduce(function(p,a,c){return!t&&r&&c>r-1?p:e.props.gridItemWidth?(e.M[c]=n,h||(c%s==0&&(i=0),i=Math.max(i,e.f[c])),c===e.f.length-1?(o[n]=i,p+i):c%s==s-1?(o[n]=i,n++,p+i):p):p+a},0);if(this.props.gridItemWidth?this.a=o:this.a=this.f,t)this.setState({T:!1,N:s,H:0},function(){e.setState({q:p},function(){e.j()}),e.props.onResizeFinish&&e.props.onResizeFinish(p,s)});else{var a=Math.round(p/r),c=(this.props.items.length-r)*a;this.setState({q:p+c,N:s},function(){e.j()})}},e.prototype.F=function(t){this.x?window.requestAnimationFrame(function(){t()}):setTimeout(function(){t()},16)},e.prototype.j=function(){this.G||(this.G=!0,this.F(this.b))},e.prototype.b=function(t,e){var i=this,s=e||this.state.S.clientHeight;this.C&&this.x&&(this.A!==window?this.A.scrollTop=Math.min(this.C,this.state.q-s):this.A.scrollTo(0,Math.min(this.C,this.state.q)),this.C=void 0);var o=0,n=t||this.state.S.scrollTop,r=0;if(this.k&&this.x){var h=this.state.S.getBoundingClientRect().top,p=document.documentElement,a=h+(n=(window.pageYOffset||p.scrollTop)-(p.clientTop||0));if(s=window.innerHeight,(n-=a)<0&&n<-1*s)return void(this.G=!1)}for(var c=[],u=0;u<this.a.length;){var f=void 0!==c[0],l=void 0!==c[1];if(f&&l)u=this.a.length;else{if(!f&&r+this.a[u]>=n){if(c[0]=Math.max(0,u-this.u),o=r,c[0]!==u)for(var d=1,m=u-c[0];m>0&&d<=m;)o-=this.a[u-d],d++}else!l&&f&&r>n+s&&(c[1]=Math.min(u+this.u,this.a.length));r+=this.a[u],u++}}void 0===c[1]&&(c[1]=this.a.length),this.G=!1,this.state.I[0]===c[0]&&this.state.I[1]===c[1]&&o===this.state.z||this.setState({I:c,z:o,R:function(){if(void 0!==i.props.calculateHeight){var t=i.props.gridItemWidth?c.map(function(t){return t*i.state.N}):c;return i.props.items.slice.apply(i.props.items,t)}return i.props.items.filter(function(t,e){return!(i.state.H&&e>i.state.H-1)&&(i.props.gridItemWidth?i.M[e]>=c[0]&&i.M[e]<=c[1]:e>=c[0]&&e<=c[1])})}()})},e.prototype.J=function(){this.state.S&&!this.props.doUpdate&&this.x&&(this.k?this.A=window:this.A=this.state.S,this.A.addEventListener("scroll",this.j)),this.w()},e.prototype.render=function(){var t=this,e=this.state.H,i=this.state.H+100,s=this.props.gridItemWidth?this.state.I[0]*this.state.N:this.state.I[0];return r.createElement("div",{className:this.props.containerClass,style:n({marginBottom:"10px"},this.props.containerStyle),ref:function(e){e&&e!==t.state.S&&t.setState({S:e},function(){t.x&&"scroll"!==window.getComputedStyle(e).overflow&&"scroll"!==window.getComputedStyle(e).overflowY&&(t.k=!0),t.J(),t.props.containerRef&&t.props.containerRef(e)})}},this.state.T&&void 0===this.props.calculateHeight&&this.props.items&&this.props.items.length?r.createElement("div",{style:h},this.props.items.filter(function(t,s){return s>=e&&s<i}).map(function(i,s){return t.f[e+s]?null:r.createElement("div",{key:s,ref:function(i){i&&!t.f[e+s]&&(t.f[e+s]=i.clientHeight,t._++,t._===t.props.items.length?t.F(function(){t.D(!0)}):t._>0&&t._%100==0&&t.F(function(){t.setState({H:t._},function(){t.D(!1)})}))}},t.props.onRender(i,e+s,0))})):null,this.state.S?r.createElement("div",{className:this.props.innerContainerClass||"",style:n({height:this.state.q>0?this.state.q-this.state.z:"unset",paddingTop:this.state.z},this.props.innerContainerStyle)},!this.state.T||this.state.H?this.state.R.map(function(e,i){return t.props.onRender(e,s+i,t.state.N)}):null):null)},e}(r.PureComponent);e.DVL=p}])});