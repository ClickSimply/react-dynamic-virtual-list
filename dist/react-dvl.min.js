!function(t,e){if("object"==typeof exports&&"object"==typeof module)module.exports=e(require("react"));else if("function"==typeof define&&define.amd)define(["react"],e);else{var i="object"==typeof exports?e(require("react")):e(t.react);for(var s in i)("object"==typeof exports?exports:t)[s]=i[s]}}(window,function(t){return function(t){var e={};function i(s){if(e[s])return e[s].exports;var o=e[s]={i:s,l:!1,exports:{}};return t[s].call(o.exports,o,o.exports,i),o.l=!0,o.exports}return i.m=t,i.c=e,i.d=function(t,e,s){i.o(t,e)||Object.defineProperty(t,e,{configurable:!1,enumerable:!0,get:s})},i.r=function(t){Object.defineProperty(t,"__esModule",{value:!0})},i.n=function(t){var e=t&&t.t?function(){return t.default}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="",i(i.s=1)}([function(e,i){e.exports=t},function(t,e,i){"use strict";var s,o=this&&this.e||(s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}s(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),n=this&&this.h||Object.assign||function(t){for(var e,i=1,s=arguments.length;i<s;i++)for(var o in e=arguments[i])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t};Object.defineProperty(e,"__esModule",{value:!0});var r=i(0),h={opacity:0,height:0},a=function(t){function e(e){var i=t.call(this,e)||this;return i.u=5,i.f=[],i.a=[],i.v=0,i._=0,i.w=i.w.bind(i),i.b=i.b.bind(i),i.g=i.g.bind(i),i.y=i.y.bind(i),i.j=i.j.bind(i),i.M=[],i.O=0,i.x="undefined"!=typeof window,i.state={T:!1,H:0,q:0,z:0,I:0,R:[],S:0,k:[],A:null},i}return o(e,t),e.prototype.componentWillMount=function(){this.u=this.props.buffer||5,this.props.doUpdate&&this.props.doUpdate(this.g),this.x&&window.addEventListener("resize",this.b)},e.prototype.componentWillUnmount=function(){this.x&&window.removeEventListener("resize",this.b),this.B&&this.B.removeEventListener("scroll",this.j)},e.prototype.b=function(){var t=this;this.N&&clearTimeout(this.N),this.N=setTimeout(function(){t.w()},250)},e.prototype.y=function(){var t=this;if(this._=0,this.f=[],this.a=[],this.x&&!this.C&&this.B)if(this.B!==window)this.C=this.B.scrollTop,this.B.scrollTop=0;else{var e=document.documentElement;this.C=(window.pageYOffset||e.scrollTop)-(e.clientTop||0),console.log(this.C),this.B.scrollTo(0,0)}setTimeout(function(){t.setState({T:!0,I:0},function(){var e=t.props.calculateHeight;void 0!==e&&(t.props.items.forEach(function(i,s){t.f[s]="number"==typeof e?e:e(t.state.A,i,s)}),t.D(!0))})},0)},e.prototype.w=function(){this.props.onResizeStart?this.props.onResizeStart(this.y):this.y()},e.prototype.D=function(t){var e=this,i=0,s=Math.floor(this.state.A.clientWidth/(this.props.gridItemWidth||100)),o=[],n=0;this.M=[];var r=this.state.H,h="number"==typeof this.props.calculateHeight;h&&(i=this.props.calculateHeight);var a=this.f.reduce(function(t,a,p){return r&&p>r-1?t:e.props.gridItemWidth?(e.M[p]=n,h||(p%s==0&&(i=0),i=Math.max(i,e.f[p])),p===e.f.length-1?(o[n]=i,t+i):p%s==s-1?(o[n]=i,n++,t+i):t):t+a},0);if(this.props.gridItemWidth?this.a=o:this.a=this.f,t)this.setState({T:!1,S:s,I:0,H:0},function(){e.setState({q:a},function(){e.j()}),e.props.onResizeFinish&&e.props.onResizeFinish(a,s)});else{var p=Math.round(a/r);this.setState({q:a+(this.props.items.length-r)*p,S:s},function(){e.j()})}},e.prototype.j=function(){var t=this;this.F||(this.F=!0,this.x?window.requestAnimationFrame(function(){t.g()}):setTimeout(function(){t.g()},16))},e.prototype.g=function(t,e){var i=this,s=e||this.state.A.clientHeight;this.C&&this.x&&(this.B!==window?this.B.scrollTop=Math.min(this.C,this.state.q-s):this.B.scrollTo(0,Math.min(this.C,this.state.q)),this.C=void 0);var o=0,n=t||this.state.A.scrollTop,r=0;if(this.props.windowContainer&&this.x){var h=this.state.A.getBoundingClientRect().top,a=document.documentElement,p=h+(n=(window.pageYOffset||a.scrollTop)-(a.clientTop||0));if(s=window.innerHeight,(n-=p)<0&&n<-1*s)return void(this.F=!1)}for(var c=[],u=0;u<this.a.length;){var f=void 0!==c[0],l=void 0!==c[1];if(f&&l)u=this.a.length;else{if(!f&&r>=n){if(c[0]=Math.max(0,u-this.u),o=r,c[0]!==u)for(var d=1,m=u-c[0];m>0&&d<=m;)o-=this.a[u-d],d++}else!l&&f&&r+this.a[u]>n+s&&(c[1]=Math.min(u+this.u,this.a.length));r+=this.a[u],u++}}void 0===c[1]&&(c[1]=this.a.length),this.F=!1,this.state.R[0]===c[0]&&this.state.R[1]===c[1]&&o===this.state.z||this.setState({R:c,z:o,k:function(){if(void 0!==i.props.calculateHeight){var t=i.props.gridItemWidth?c.map(function(t){return t*i.state.S}):c;return i.props.items.slice.apply(i.props.items,t)}return i.props.items.filter(function(t,e){return!(i.state.H&&e>i.state.H-1)&&(i.props.gridItemWidth?i.M[e]>=c[0]&&i.M[e]<=c[1]:e>=c[0]&&e<=c[1])})}()})},e.prototype.G=function(){this.state.A&&!this.props.doUpdate&&this.x&&(this.props.windowContainer?this.B=window:this.B=this.state.A,this.B.addEventListener("scroll",this.j)),this.w()},e.prototype.render=function(){var t=this,e=100*this.state.I,i=e+100,s=0,o=this.props.gridItemWidth?this.state.R[0]*this.state.S:this.state.R[0];return r.createElement("div",{className:this.props.containerClass,style:n({marginBottom:"10px"},this.props.containerStyle),ref:function(e){e&&e!==t.state.A&&t.setState({A:e},function(){t.G(),t.props.containerRef&&t.props.containerRef(e)})}},this.state.A?r.createElement("div",{style:n({height:this.state.q>0?this.state.q-this.state.z:"unset",paddingTop:this.state.z},this.props.innerContainerStyle)},!this.state.T||this.state.H?this.state.k.map(function(e,i){return t.props.onRender(e,o+i,t.state.S)}):null):null,this.state.A&&this.state.T&&void 0===this.props.calculateHeight?r.createElement("div",{style:h},this.props.items.filter(function(t,s){return s>=e&&s<i}).map(function(i,o){return r.createElement("div",{key:o,ref:function(i){i&&!t.f[o+e]&&(t._++,s++,t.f[o+e]=i.clientHeight,t._===t.props.items.length?t.D(!0):100===s&&setTimeout(function(){t.setState({I:t.state.I+1,H:100*(t.state.I+1)},function(){t.state.T&&t.D(!1)})},0))}},t.props.onRender(i,o))})):null)},e}(r.PureComponent);e.DVL=a}])});