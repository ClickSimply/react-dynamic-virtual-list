!function(t,e){if("object"==typeof exports&&"object"==typeof module)module.exports=e(require("react"));else if("function"==typeof define&&define.amd)define(["react"],e);else{var i="object"==typeof exports?e(require("react")):e(t.react);for(var s in i)("object"==typeof exports?exports:t)[s]=i[s]}}(window,function(t){return function(t){var e={};function i(s){if(e[s])return e[s].exports;var o=e[s]={i:s,l:!1,exports:{}};return t[s].call(o.exports,o,o.exports,i),o.l=!0,o.exports}return i.m=t,i.c=e,i.d=function(t,e,s){i.o(t,e)||Object.defineProperty(t,e,{configurable:!1,enumerable:!0,get:s})},i.r=function(t){Object.defineProperty(t,"__esModule",{value:!0})},i.n=function(t){var e=t&&t.t?function(){return t.default}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="",i(i.s=1)}([function(e,i){e.exports=t},function(t,e,i){"use strict";var s,o=this&&this.e||(s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}s(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),n=this&&this.h||Object.assign||function(t){for(var e,i=1,s=arguments.length;i<s;i++)for(var o in e=arguments[i])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t};Object.defineProperty(e,"__esModule",{value:!0});var r=i(0),p={opacity:0,height:0},h=function(t){function e(e){var i=t.call(this,e)||this;return i.u=5,i.f=[],i.a=[],i.v=0,i.w=0,i._=i._.bind(i),i.g=i.g.bind(i),i.b=i.b.bind(i),i.y=i.y.bind(i),i.j=i.j.bind(i),i.x=[],i.M=0,i.O="undefined"!=typeof window,i.state={T:!1,N:0,z:0,H:0,S:[],q:0,B:[],I:null},i}return o(e,t),e.prototype.componentWillMount=function(){this.u=void 0!==this.props.buffer?this.props.buffer:5,this.R=this.props.windowContainer,this.props.doUpdate&&this.props.doUpdate(this.b),this.O&&window.addEventListener("resize",this.g)},e.prototype.componentWillUnmount=function(){this.O&&window.removeEventListener("resize",this.g),this.k&&this.k.removeEventListener("scroll",this.j)},e.prototype.g=function(){var t=this;this.A&&clearTimeout(this.A),this.A=setTimeout(function(){t._()},250)},e.prototype.y=function(){var t=this;if(this.w=0,this.f=[],this.a=[],this.O&&!this.C&&this.k)if(this.k!==window)this.C=this.k.scrollTop,this.k.scrollTop=0;else{var e=document.documentElement;this.C=(window.pageYOffset||e.scrollTop)-(e.clientTop||0),this.k.scrollTo(0,0)}setTimeout(function(){t.setState({T:!0},function(){var e=t.props.calculateHeight;void 0!==e&&(t.props.items.forEach(function(i,s){t.f[s]="number"==typeof e?e:e(t.state.I,i,s)}),t.D(!0))})},0)},e.prototype._=function(){this.props.onResizeStart?this.props.onResizeStart(this.y):this.y()},e.prototype.D=function(t){var e=this,i=0,s=Math.floor(this.state.I.clientWidth/(this.props.gridItemWidth||100)),o=[],n=0;this.x=[];var r=this.state.N,p="number"==typeof this.props.calculateHeight;p&&(i=this.props.calculateHeight);var h=this.f.reduce(function(h,a,c){return!t&&r&&c>r-1?h:e.props.gridItemWidth?(e.x[c]=n,p||(c%s==0&&(i=0),i=Math.max(i,e.f[c])),c===e.f.length-1?(o[n]=i,h+i):c%s==s-1?(o[n]=i,n++,h+i):h):h+a},0);if(this.props.gridItemWidth?this.a=o:this.a=this.f,t)this.setState({T:!1,q:s,N:0},function(){e.setState({z:h},function(){e.j()}),e.props.onResizeFinish&&e.props.onResizeFinish(h,s)});else{var a=Math.round(h/r),c=(this.props.items.length-r)*a;this.setState({z:h+c,q:s},function(){e.j()})}},e.prototype.F=function(t){this.O?window.requestAnimationFrame(function(){t()}):setTimeout(function(){t()},16)},e.prototype.j=function(){this.G||(this.G=!0,this.F(this.b))},e.prototype.b=function(t,e){var i=this,s=e||this.state.I.clientHeight;this.C&&this.O&&(this.k!==window?this.k.scrollTop=Math.min(this.C,this.state.z-s):this.k.scrollTo(0,Math.min(this.C,this.state.z)),this.C=void 0);var o=0,n=t||this.state.I.scrollTop,r=0;if(this.R&&this.O){var p=this.state.I.getBoundingClientRect().top,h=document.documentElement,a=p+(n=(window.pageYOffset||h.scrollTop)-(h.clientTop||0));if(s=window.innerHeight,(n-=a)<0&&n<-1*s)return void(this.G=!1)}for(var c=[],u=0;u<this.a.length;){var l=void 0!==c[0],f=void 0!==c[1];if(l&&f)u=this.a.length;else{if(!l&&r+this.a[u]>=n){if(c[0]=Math.max(0,u-this.u),o=r,c[0]!==u)for(var d=1,m=u-c[0];m>0&&d<=m;)o-=this.a[u-d],d++}else!f&&l&&r>n+s&&(c[1]=Math.min(u+this.u,this.a.length));r+=this.a[u],u++}}void 0===c[1]&&(c[1]=this.a.length),this.G=!1,this.setState({S:c,H:o,B:function(){if(void 0!==i.props.calculateHeight){var t=i.props.gridItemWidth?c.map(function(t){return t*i.state.q}):c;return i.props.items.slice.apply(i.props.items,t)}return i.props.items.filter(function(t,e){return!(i.state.N&&e>i.state.N-1)&&(i.props.gridItemWidth?i.x[e]>=c[0]&&i.x[e]<=c[1]:e>=c[0]&&e<=c[1])})}()})},e.prototype.J=function(){this.state.I&&!this.props.doUpdate&&this.O&&(this.R?this.k=window:this.k=this.state.I,this.k.addEventListener("scroll",this.j)),this._()},e.prototype.render=function(){var t=this,e=this.state.N,i=this.state.N+100,s=this.props.gridItemWidth?this.state.S[0]*this.state.q:this.state.S[0];return"undefined"==typeof window?r.createElement("div",{className:this.props.containerClass,style:n({marginBottom:"10px"},this.props.containerStyle)},r.createElement("div",{className:this.props.innerContainerClass||"",style:this.props.innerContainerStyle||{}},this.props.items.map(function(e,i){return t.props.onRender(e,i,0)}))):r.createElement("div",{className:this.props.containerClass,style:n({marginBottom:"10px",boxSizing:"content-box"},this.props.containerStyle),ref:function(e){e&&e!==t.state.I&&t.setState({I:e},function(){t.O&&"scroll"!==window.getComputedStyle(e).overflow&&"scroll"!==window.getComputedStyle(e).overflowY&&(t.R=!0),t.J(),t.props.containerRef&&t.props.containerRef(e)})}},this.state.I?r.createElement("div",{className:this.props.innerContainerClass||"",style:n({height:this.state.z>0?this.state.z-this.state.H:"unset",paddingTop:this.state.H},this.props.innerContainerStyle)},!this.state.T||this.state.N?this.state.B.map(function(e,i){return t.props.onRender(e,s+i,t.state.q)}):null):null,this.state.T&&void 0===this.props.calculateHeight&&this.props.items&&this.props.items.length?r.createElement("div",{style:p},this.props.items.filter(function(t,s){return s>=e&&s<i}).map(function(i,s){return t.f[e+s]?null:r.createElement("div",{key:s,ref:function(i){i&&!t.f[e+s]&&(t.f[e+s]=i.clientHeight,t.w++,t.w===t.props.items.length?t.F(function(){t.D(!0)}):t.w>0&&t.w%100==0&&t.F(function(){t.setState({N:t.w},function(){t.D(!1)})}))}},t.props.onRender(i,e+s,0))})):null)},e}(r.PureComponent);e.DVL=h}])});